<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manual del Panel de Administraci√≥n - PsiConnect</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }
        h1 { color: #2c3e50; border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        h2 { color: #34495e; border-bottom: 2px solid #ecf0f1; padding-bottom: 8px; margin-top: 40px; }
        h3 { color: #7f8c8d; margin-top: 30px; }
        h4 { color: #95a5a6; }
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
        }
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            border-left: 4px solid #3498db;
        }
        pre code {
            background: none;
            padding: 0;
            color: inherit;
        }
        .toc {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .toc ul {
            list-style: none;
            padding-left: 0;
        }
        .toc li {
            margin: 8px 0;
        }
        .toc a {
            color: #3498db;
            text-decoration: none;
        }
        .toc a:hover {
            text-decoration: underline;
        }
        blockquote {
            border-left: 4px solid #3498db;
            margin: 20px 0;
            padding: 10px 20px;
            background: #f8f9fa;
        }
        .metadata {
            background: #34495e;
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        .section {
            margin: 40px 0;
            padding: 20px 0;
            border-bottom: 1px solid #ecf0f1;
        }
        .highlight {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        @media print {
            body { background: white; }
            .container { box-shadow: none; }
            h2 { page-break-before: always; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="metadata">
            <h1>üìã Manual del Panel de Administraci√≥n - PsiConnect</h1>
            <p><strong>Versi√≥n:</strong> 1.0</p>
            <p><strong>Fecha:</strong> 22 de julio de 2025</p>
            <p><strong>Autor:</strong> Equipo de Desarrollo PsiConnect</p>
        </div>
        
        <div class="highlight">
            <h3>üéØ Objetivo del Manual</h3>
            <p>Este documento proporciona una gu√≠a completa para utilizar el Panel de Administraci√≥n de PsiConnect, 
            incluyendo todas las funcionalidades CRUD, troubleshooting, y mejores pr√°cticas para la gesti√≥n de la base de datos de psic√≥logos.</p>
        </div>
        
        <div id="content">
            <h1>Manual del Panel de Administraci√≥n - PsiConnect</h1></p><p><strong>Versi√≥n:</strong> 1.0  
<strong>Fecha:</strong> 22 de julio de 2025  
<strong>Autor:</strong> Equipo de Desarrollo PsiConnect  
<strong>Tema:</strong> Documentaci√≥n t√©cnica del CRUD de psic√≥logos</p><p>---</p><p><h2>üìë Tabla de Contenidos</h2></p><p>1. [üõ†Ô∏è Introducci√≥n al Panel de Administraci√≥n](#introducci-n-al-panel-de-administraci-n)
<p>2. [üèóÔ∏è Arquitectura del Sistema](#arquitectura-del-sistema)</p>
<p>3. [üìä Panel Principal - Vista General](#panel-principal-vista-general)</p>
<p>4. [‚ûï Crear Nuevo Psic√≥logo](#crear-nuevo-psic-logo)</p>
<p>5. [‚úèÔ∏è Editar Psic√≥logo Existente](#editar-psic-logo-existente)</p>
<p>6. [üóëÔ∏è Eliminar Psic√≥logo](#eliminar-psic-logo)</p>
<p>7. [üîÑ Gesti√≥n de Base de Datos](#gesti-n-de-base-de-datos)</p>
<p>8. [‚ö†Ô∏è Manejo de Errores y Soluci√≥n de Problemas](#manejo-de-errores-y-soluci-n-de-problemas)</p>
<p>9. [üé® Interfaz de Usuario y Experiencia](#interfaz-de-usuario-y-experiencia)</p>
<p>10. [üîß Configuraci√≥n y Instalaci√≥n](#configuraci-n-y-instalaci-n)</p>
<p>11. [üìö API Reference y Hooks](#api-reference-y-hooks)</p>
<p>12. [üöÄ Deployment y Mantenimiento](#deployment-y-mantenimiento)</p><p>---</p><p></p>
<h2>1. üõ†Ô∏è Introducci√≥n al Panel de Administraci√≥n</h2></p><p>El Panel de Administraci√≥n de PsiConnect es una interfaz completa de gesti√≥n que permite
<p>realizar operaciones CRUD (Crear, Leer, Actualizar, Eliminar) sobre la base de datos de </p>
<p>psic√≥logos. Desarrollado con React + TypeScript y Dexie (IndexedDB), proporciona una </p>
<p>experiencia administrativa robusta y moderna.</p><p><h2>Caracter√≠sticas Principales:</h2></p>
<p>‚Ä¢ Interfaz intuitiva con validaci√≥n en tiempo real</p>
<p>‚Ä¢ Operaciones at√≥micas para garantizar integridad de datos  </p>
<p>‚Ä¢ Manejo avanzado de errores con logging detallado</p>
<p>‚Ä¢ Respaldo y restauraci√≥n de base de datos</p>
<p>‚Ä¢ Generaci√≥n autom√°tica de horarios de disponibilidad</p>
<p>‚Ä¢ Soporte para m√∫ltiples modalidades (Online/Presencial)</p><p><h2>Acceso:</h2></p>
<p>URL: http://localhost:3000/admin</p>
<p>Compatibilidad: Todos los navegadores modernos (Chrome 90+, Firefox 88+, Safari 14+)</p><p>---</p><p></p>
<h2>2. üèóÔ∏è Arquitectura del Sistema</h2></p><p><h2>Stack Tecnol√≥gico:</h2>
<p>‚Ä¢ Frontend: React 18.2.0 + TypeScript 4.9.5</p>
<p>‚Ä¢ Base de Datos: Dexie 3.2.4 (IndexedDB wrapper)</p>
<p>‚Ä¢ Estado: Custom hooks con React Context</p>
<p>‚Ä¢ Estilos: CSS modular con variables</p><p><h2>Estructura de la Base de Datos:</h2></p><p><h3>Tabla: psicologos</h3></p>
<li>id (string): Identificador √∫nico</li>
<li>nombre (string): Nombre del psic√≥logo</li>
<li>apellido (string): Apellido del psic√≥logo  </li>
<li>experiencia (number): A√±os de experiencia</li>
<li>precio (number): Tarifa por sesi√≥n</li>
<li>imagen (string): URL del avatar</li>
<li>descripcion (string): Descripci√≥n profesional</li>
<li>rating (number): Calificaci√≥n (1-5)</li>
<li>modalidades (JSON): Array de modalidades disponibles</li></ul><p><h3>Tabla: especialidades</h3>
<li>id (auto-increment): ID interno</li>
<li>nombre (string, UNIQUE): Nombre de la especialidad</li></ul><p><h3>Tabla: psicologoEspecialidades</h3>
<li>id (auto-increment): ID interno</li>
<li>psicologoId (string): Referencia al psic√≥logo</li>
<li>especialidad (string): Nombre de la especialidad</li></ul><p><h3>Tabla: horarios</h3>
<li>id (auto-increment): ID interno</li>
<li>psicologoId (string): Referencia al psic√≥logo</li>
<li>fecha (string): Fecha en formato YYYY-MM-DD</li>
<li>hora (string): Hora en formato HH:MM</li>
<li>modalidades (JSON): Modalidades disponibles para ese horario</li>
<li>disponible (boolean): Estado de disponibilidad</li></ul><p><h3>Tabla: sesiones</h3>
<li>id (string): Identificador √∫nico de la sesi√≥n</li>
<li>psicologoId (string): Referencia al psic√≥logo</li>
<li>fecha (string): Fecha de la sesi√≥n</li>
<li>hora (string): Hora de la sesi√≥n</li>
<li>modalidad (string): Modalidad seleccionada</li>
<li>pacienteNombre (string): Nombre del paciente</li>
<li>pacienteEmail (string): Email del paciente</li>
<li>pacienteTelefono (string): Tel√©fono del paciente</li>
<li>especialidad (string): Especialidad solicitada</li>
<li>estado (string): Estado de la sesi√≥n</li>
<li>created_at (Date): Fecha de creaci√≥n</li></ul><p>---</p><p>
<h2>3. üìä Panel Principal - Vista General</h2></p><p><h2>Interfaz Principal del Admin Panel</h2></p><p><h3>Header del Panel:</h3>
<p>üõ†Ô∏è Panel de Administraci√≥n</p>
<li>T√≠tulo principal con icono</li>
<li>Descripci√≥n: "Gestiona la base de datos de psic√≥logos"</li>
<li>Enlace de retorno: "‚Üê Volver a la aplicaci√≥n"</li></ul><p><h3>Secci√≥n de Estad√≠sticas:</h3>
<p>Tres tarjetas informativas que muestran:</p><p>1. üë• Psic√≥logos</p>
<p>   - Contador total de psic√≥logos registrados</p>
<p>   - Actualizaci√≥n en tiempo real</p><p>2. üìÖ Sesiones  </p>
<p>   - Contador total de sesiones agendadas</p>
<p>   - Incluye todos los estados (confirmada, pendiente, cancelada)</p><p>3. üè∑Ô∏è Especialidades</p>
<p>   - Contador de especialidades √∫nicas en el sistema</p>
<p>   - Se actualiza autom√°ticamente al agregar nuevas especialidades</p><p><h3>Botones de Acci√≥n Principal:</h3></p>
<p>‚Ä¢ ‚úèÔ∏è Agregar Nuevo Psic√≥logo</p>
<p>‚Ä¢ üóëÔ∏è Limpiar y Recargar DB (para mantenimiento)</p><p><h3>Lista de Psic√≥logos:</h3></p>
<p>Tabla responsiva con informaci√≥n resumida:</p>
<li>Avatar del psic√≥logo (imagen circular)</li>
<li>Nombre completo y especialidades</li>
<li>Metadatos: experiencia, precio, rating</li>
<li>Contador de horarios disponibles</li>
<li>Acciones: Editar y Eliminar</li></ul><p>---</p><p>
<h2>4. ‚ûï Crear Nuevo Psic√≥logo</h2></p><p><h2>Formulario de Creaci√≥n</h2></p><p><h3>Activaci√≥n:</h3>
<p>1. Click en "‚úèÔ∏è Agregar Nuevo Psic√≥logo"</p>
<p>2. Se despliega formulario modal con fondo oscuro</p>
<p>3. T√≠tulo: "Agregar Nuevo Psic√≥logo"</p><p><h3>Campos del Formulario:</h3></p><p>#### Informaci√≥n Personal:</p>
<p>‚Ä¢ <strong>Nombre</strong>: Campo de texto requerido</p>
<p>  - Validaci√≥n: No puede estar vac√≠o</p>
<p>  - Placeholder: "Nombre del psic√≥logo"</p><p>‚Ä¢ <strong>Apellido</strong>: Campo de texto requerido  </p>
<p>  - Validaci√≥n: No puede estar vac√≠o</p>
<p>  - Placeholder: "Apellido del psic√≥logo"</p><p>#### Informaci√≥n Profesional:</p>
<p>‚Ä¢ <strong>Especialidades</strong>: Campo de texto largo requerido</p>
<p>  - Formato: Separadas por comas</p>
<p>  - Ejemplo: "Ansiedad, Depresi√≥n, Terapia Cognitivo-Conductual"</p>
<p>  - Validaci√≥n: M√≠nimo una especialidad</p><p>‚Ä¢ <strong>Experiencia</strong>: Campo num√©rico requerido</p>
<p>  - Rango: 1-30 a√±os</p>
<p>  - Tipo: Number input con spinner</p><p>‚Ä¢ <strong>Precio por sesi√≥n</strong>: Campo num√©rico requerido</p>
<p>  - Rango: $30-$300</p>
<p>  - Incrementos: $5</p>
<p>  - Formato: D√≥lares americanos</p><p>#### Modalidades de Atenci√≥n:</p>
<p>Checkboxes para seleccionar modalidades:</p>
<p>‚Ä¢ üíª Online</p>
<p>‚Ä¢ üè¢ Presencial</p>
<li>Validaci√≥n: M√≠nimo una modalidad requerida</li></ul><p>#### Descripci√≥n:
<p>‚Ä¢ <strong>Descripci√≥n</strong>: Textarea requerido</p>
<p>  - Placeholder: "Descripci√≥n profesional del psic√≥logo, especialidades, enfoque terap√©utico..."</p>
<p>  - Filas: 4</p>
<p>  - Validaci√≥n: No puede estar vac√≠o</p><p>#### Opciones Adicionales:</p>
<p>‚Ä¢ <strong>Generar horarios autom√°ticamente</strong>: Checkbox</p>
<p>  - Por defecto: Marcado</p>
<p>  - Si est√° marcado: Sistema genera horarios aleatorios para 3 semanas</p>
<p>  - Si no est√° marcado: Psic√≥logo se crea sin horarios</p><p><h3>Validaciones en Tiempo Real:</h3></p>
<li>Campos requeridos marcados con asterisco (*)</li>
<li>Validaci√≥n al enviar formulario</li>
<li>Mensajes de error espec√≠ficos y descriptivos</li>
<li>Campos con focus reciben bordes azules</li>
<li>Placeholders informativos</li></ul><p><h3>Botones de Acci√≥n:</h3>
<p>‚Ä¢ <strong>Agregar Psic√≥logo</strong>: Bot√≥n principal (azul)</p>
<p>  - Estado: Deshabilitado durante procesamiento</p>
<p>  - Texto cambia a "Procesando..." durante la operaci√≥n</p><p>‚Ä¢ <strong>Cancelar</strong>: Bot√≥n secundario (gris)</p>
<p>  - Cierra formulario sin guardar</p>
<p>  - Limpia todos los campos</p><p><h3>Proceso de Creaci√≥n:</h3></p>
<p>1. Validaci√≥n de campos requeridos</p>
<p>2. Generaci√≥n de ID √∫nico: psi_[timestamp]_[random]</p>
<p>3. Asignaci√≥n de rating aleatorio (3.5-5.0)</p>
<p>4. Asignaci√≥n de imagen por defecto</p>
<p>5. Generaci√≥n opcional de horarios</p>
<p>6. Inserci√≥n en base de datos con transacci√≥n at√≥mica</p>
<p>7. Actualizaci√≥n de la lista</p>
<p>8. Mensaje de confirmaci√≥n</p>
<p>9. Limpieza del formulario</p><p>---</p><p></p>
<h2>5. ‚úèÔ∏è Editar Psic√≥logo Existente</h2></p><p><h2>Proceso de Edici√≥n</h2></p><p><h3>Activaci√≥n:</h3>
<p>1. Localizar psic√≥logo en la lista</p>
<p>2. Click en bot√≥n "‚úèÔ∏è Editar" </p>
<p>3. Se carga formulario con datos existentes</p><p><h3>Diferencias con Creaci√≥n:</h3></p>
<p>‚Ä¢ T√≠tulo: "Editar Psic√≥logo"</p>
<p>‚Ä¢ Campos pre-populados con informaci√≥n actual</p>
<p>‚Ä¢ Especialidades mostradas como texto separado por comas</p>
<p>‚Ä¢ Modalidades pre-seleccionadas seg√∫n configuraci√≥n actual</p>
<p>‚Ä¢ Sin opci√≥n de generar horarios autom√°ticamente</p><p><h3>Campos Editables:</h3></p>
<li>Todos los campos del formulario de creaci√≥n</li>
<li>Mantiene ID original del psic√≥logo</li>
<li>Preserva rating y imagen existentes</li>
<li>Actualiza timestamp de modificaci√≥n</li></ul><p><h3>Validaciones:</h3>
<li>Mismas validaciones que en creaci√≥n</li>
<li>Verificaci√≥n de que el ID existe en la base de datos</li>
<li>Comprobaci√≥n de cambios antes de guardar</li></ul><p><h3>Proceso de Actualizaci√≥n:</h3>
<p>1. Validaci√≥n de campos modificados</p>
<p>2. Comparaci√≥n con datos originales</p>
<p>3. Actualizaci√≥n de tabla principal (psicologos)</p>
<p>4. Eliminaci√≥n de relaciones de especialidades existentes</p>
<p>5. Inserci√≥n de nuevas especialidades y relaciones</p>
<p>6. Eliminaci√≥n de horarios existentes</p>
<p>7. Inserci√≥n de horarios actualizados (si los hay)</p>
<p>8. Confirmaci√≥n de transacci√≥n</p>
<p>9. Actualizaci√≥n de la interfaz</p>
<p>10. Mensaje de √©xito</p><p><h3>Manejo de Errores:</h3></p>
<li>Validaci√≥n de ID existente</li>
<li>Manejo de especialidades duplicadas</li>
<li>Rollback autom√°tico en caso de error</li>
<li>Logging detallado para debugging</li>
<li>Mensajes espec√≠ficos al usuario</li></ul><p><h3>Botones de Acci√≥n:</h3>
<p>‚Ä¢ <strong>Actualizar Psic√≥logo</strong>: Bot√≥n principal</p>
<p>‚Ä¢ <strong>Cancelar</strong>: Vuelve a lista sin cambios</p><p>---</p><p></p>
<h2>6. üóëÔ∏è Eliminar Psic√≥logo</h2></p><p><h2>Proceso de Eliminaci√≥n</h2></p><p><h3>Activaci√≥n:</h3>
<p>1. Localizar psic√≥logo en la lista</p>
<p>2. Click en bot√≥n "üóëÔ∏è Eliminar" (rojo)</p>
<p>3. Aparece dialog de confirmaci√≥n</p><p><h3>Dialog de Confirmaci√≥n:</h3></p>
<li>T√≠tulo: Confirmaci√≥n requerida</li>
<li>Mensaje: "¬øEst√°s seguro de que quieres eliminar a [Nombre Apellido]? Esta acci√≥n no se puede deshacer."</li>
<li>Botones:</li>
<p>  ‚Ä¢ "Cancelar": Cierra dialog sin acci√≥n</p>
<p>  ‚Ä¢ "Eliminar": Procede con eliminaci√≥n</p><p><h3>Operaciones de Eliminaci√≥n:</h3></p>
<p>La eliminaci√≥n es una operaci√≥n CASCADE que incluye:</p><p>1. <strong>Tabla psicologos</strong>: Eliminaci√≥n del registro principal</p>
<p>2. <strong>Tabla psicologoEspecialidades</strong>: Eliminaci√≥n de todas las relaciones</p>
<p>3. <strong>Tabla horarios</strong>: Eliminaci√≥n de todos los horarios del psic√≥logo  </p>
<p>4. <strong>Tabla sesiones</strong>: Eliminaci√≥n de sesiones asociadas</p><p><h3>Proceso Transaccional:</h3></p>
<p>1. Inicio de transacci√≥n at√≥mica</p>
<p>2. Verificaci√≥n de existencia del psic√≥logo</p>
<p>3. Eliminaci√≥n en orden inverso de dependencias:</p>
<p>   - Sesiones del psic√≥logo</p>
<p>   - Horarios del psic√≥logo</p>
<p>   - Relaciones de especialidades</p>
<p>   - Registro principal del psic√≥logo</p>
<p>4. Commit de transacci√≥n</p>
<p>5. Actualizaci√≥n de interfaz</p>
<p>6. Mensaje de confirmaci√≥n</p><p><h3>Seguridad:</h3></p>
<li>Confirmaci√≥n expl√≠cita requerida</li>
<li>Operaci√≥n irreversible claramente indicada</li>
<li>Logging de todas las eliminaciones</li>
<li>Manejo de errores robusto</li></ul><p><h3>Estados del Bot√≥n:</h3>
<li>Normal: Bot√≥n rojo con icono üóëÔ∏è</li>
<li>Procesando: Deshabilitado con texto "Procesando..."</li>
<li>Error: Mensaje de error espec√≠fico</li></ul><p><h3>Casos de Error:</h3>
<li>Psic√≥logo no encontrado</li>
<li>Error de transacci√≥n de base de datos</li>
<li>Problemas de integridad referencial</li>
<li>Errores de conexi√≥n</li></ul><p><h3>Recuperaci√≥n:</h3>
<li>No hay recuperaci√≥n autom√°tica</li>
<li>Requiere restauraci√≥n desde backup</li>
<li>Recomendaci√≥n: Usar "Limpiar y Recargar DB" para reset completo</li></ul><p>---</p><p>
<h2>7. üîÑ Gesti√≥n de Base de Datos</h2></p><p><h2>Funcionalidades de Mantenimiento</h2></p><p><h3>Limpiar y Recargar Base de Datos:</h3>
<p>Bot√≥n especial para mantenimiento del sistema.</p><p>#### Activaci√≥n:</p>
<p>1. Click en "üóëÔ∏è Limpiar y Recargar DB"</p>
<p>2. Dialog de confirmaci√≥n con advertencia</p>
<p>3. Mensaje: "¬øEst√°s seguro de que quieres limpiar y recargar toda la base de datos? Esto eliminar√° todos los datos y los volver√° a importar."</p><p>#### Proceso de Limpieza:</p>
<p>1. <strong>Limpieza Completa</strong>: Eliminaci√≥n de todas las tablas</p>
<p>   - psicologos.clear()</p>
<p>   - especialidades.clear()  </p>
<p>   - psicologoEspecialidades.clear()</p>
<p>   - horarios.clear()</p>
<p>   - sesiones.clear()</p><p>2. <strong>Re-importaci√≥n</strong>: Carga de datos iniciales</p>
<p>   - Lectura de archivo src/data/psicologos.ts</p>
<p>   - Migraci√≥n autom√°tica de 5 psic√≥logos predefinidos</p>
<p>   - Generaci√≥n de horarios de disponibilidad</p>
<p>   - Creaci√≥n de especialidades y relaciones</p><p>3. <strong>Verificaci√≥n</strong>: Comprobaci√≥n de integridad</p>
<p>   - Conteo de registros importados</p>
<p>   - Validaci√≥n de relaciones</p>
<p>   - Verificaci√≥n de √≠ndices</p><p>4. <strong>Recarga</strong>: Actualizaci√≥n completa de la aplicaci√≥n</p>
<p>   - window.location.reload() autom√°tico</p>
<p>   - Reinicializaci√≥n de estado</p>
<p>   - Recarga de datos en interfaz</p><p>#### Casos de Uso:</p>
<li>Corrupci√≥n de datos en IndexedDB</li>
<li>Errores de integridad referencial</li>
<li>Reset para desarrollo y testing</li>
<li>Limpieza de datos de prueba</li>
<li>Restauraci√≥n a estado inicial</li></ul><p>#### Consideraciones:
<li><strong>Irreversible</strong>: Todos los datos personalizados se pierden</li>
<li><strong>Tiempo</strong>: Proceso puede tomar varios segundos</li>
<li><strong>Conexi√≥n</strong>: Requiere acceso a archivos locales</li>
<li><strong>Estado</strong>: Aplicaci√≥n queda en estado inicial</li></ul><p><h3>Monitoreo de Estad√≠sticas:</h3>
<p>El panel muestra estad√≠sticas en tiempo real:</p>
<li>Actualizaci√≥n autom√°tica despu√©s de cada operaci√≥n</li>
<li>Contadores precisos con validaci√≥n</li>
<li>Sincronizaci√≥n con base de datos</li></ul><p><h3>Logging y Debugging:</h3>
<p>Todas las operaciones generan logs detallados:</p>
<li>Console.log para operaciones exitosas (‚úÖ)</li>
<li>Console.warn para advertencias (‚ö†Ô∏è)  </li>
<li>Console.error para errores (‚ùå)</li>
<li>Informaci√≥n de timestamps</li>
<li>Detalles de transacciones</li></ul><p><h3>Backup Manual (Recomendado):</h3>
<p>Para preservar datos personalizados:</p>
<p>1. Exportar datos antes de operaciones destructivas</p>
<p>2. Usar herramientas de desarrollador del navegador</p>
<p>3. Respaldar IndexedDB manualmente</p>
<p>4. Considerar implementar exportaci√≥n autom√°tica</p><p>---</p><p></p>
<h2>8. ‚ö†Ô∏è Manejo de Errores y Soluci√≥n de Problemas</h2></p><p><h2>Sistema de Manejo de Errores</h2></p><p><h3>Tipos de Errores Comunes:</h3></p><p>#### 1. Errores de Validaci√≥n:
<li><strong>Campos requeridos vac√≠os</strong></li>
<p>  - Error: "El nombre es requerido"</p>
<p>  - Soluci√≥n: Completar todos los campos marcados con *</p><ul><li><strong>Especialidades inv√°lidas</strong></li></ul>
<p>  - Error: "Debes agregar al menos una especialidad"</p>
<p>  - Soluci√≥n: Escribir especialidades separadas por comas</p><ul><li><strong>Modalidades no seleccionadas</strong></li></ul>
<p>  - Error: "Debes seleccionar al menos una modalidad"</p>
<p>  - Soluci√≥n: Marcar al menos una checkbox de modalidad</p><p>#### 2. Errores de Base de Datos:</p>
<li><strong>Restricci√≥n de unicidad</strong></li>
<p>  - Error: "Unable to add key to index 'nombre': at least one key does not satisfy the uniqueness requirements"</p>
<p>  - Soluci√≥n: Usar bot√≥n "Limpiar y Recargar DB"</p><ul><li><strong>Psic√≥logo no encontrado</strong></li></ul>
<p>  - Error: "No se encontr√≥ el psic√≥logo con ID: [id]"</p>
<p>  - Soluci√≥n: Verificar que el psic√≥logo existe, refrescar lista</p><ul><li><strong>Error de transacci√≥n</strong></li></ul>
<p>  - Error: "Error al insertar psic√≥logo: [detalle]"</p>
<p>  - Soluci√≥n: Revisar console.log, verificar datos, reintentar</p><p>#### 3. Errores de Interfaz:</p>
<li><strong>Formulario no responsivo</strong></li>
<p>  - Soluci√≥n: Verificar que no hay overlays modales m√∫ltiples</p>
<p>  - Presionar Escape para cerrar modales</p><ul><li><strong>Datos no actualizados</strong></li></ul>
<p>  - Soluci√≥n: Refrescar p√°gina o usar "Limpiar y Recargar DB"</p><p><h3>Estrategias de Soluci√≥n:</h3></p><p>#### Nivel 1 - Soluciones B√°sicas:</p>
<p>1. <strong>Refrescar p√°gina</strong>: F5 o Ctrl+R</p>
<p>2. <strong>Limpiar cach√©</strong>: Ctrl+Shift+R</p>
<p>3. <strong>Verificar console</strong>: F12 > Console tab</p>
<p>4. <strong>Completar campos requeridos</strong>: Revisar asteriscos</p><p>#### Nivel 2 - Soluciones Intermedias:</p>
<p>1. <strong>Limpiar y Recargar DB</strong>: Bot√≥n en panel admin</p>
<p>2. <strong>Cerrar/abrir formularios</strong>: Cancelar y reintentar</p>
<p>3. <strong>Verificar formato de datos</strong>: Especialidades con comas</p>
<p>4. <strong>Revisar modalidades</strong>: Seleccionar al menos una</p><p>#### Nivel 3 - Soluciones Avanzadas:</p>
<p>1. <strong>Limpiar IndexedDB manualmente</strong>:</p>
<p>   - F12 > Application > Storage > IndexedDB</p>
<p>   - Eliminar base de datos "PsiConnectDB"</p>
<p>   - Refrescar aplicaci√≥n</p><p>2. <strong>Modo inc√≥gnito</strong>: Probar en ventana privada</p>
<p>3. <strong>Diferentes navegador</strong>: Chrome, Firefox, Edge</p>
<p>4. <strong>Verificar JavaScript</strong>: Asegurar que est√° habilitado</p><p><h3>Mensajes de Estado:</h3></p><p>#### Mensajes de √âxito (Verde):</p>
<li>"‚úÖ Psic√≥logo [nombre] agregado exitosamente"</li>
<li>"‚úÖ Psic√≥logo [nombre] actualizado exitosamente"  </li>
<li>"‚úÖ Psic√≥logo [nombre] eliminado exitosamente"</li>
<li>"‚úÖ Base de datos limpiada y recargada exitosamente"</li></ul><p>#### Mensajes de Error (Rojo):
<li>"‚ùå Error al agregar el psic√≥logo: [detalle]"</li>
<li>"‚ùå Error al actualizar el psic√≥logo: [detalle]"</li>
<li>"‚ùå Error al eliminar el psic√≥logo"</li>
<li>"‚ùå Error al limpiar la base de datos"</li></ul><p><h3>Logging Detallado:</h3>
<p>Todos los errores se registran en console con:</p>
<li>Timestamp exacto</li>
<li>Operaci√≥n que fall√≥</li>
<li>Datos involucrados</li>
<li>Stack trace completo</li>
<li>Sugerencias de soluci√≥n</li></ul><p><h3>Prevenci√≥n de Errores:</h3>
<li>Validaci√≥n en tiempo real</li>
<li>Confirmaciones para operaciones destructivas</li>
<li>Transacciones at√≥micas</li>
<li>Rollback autom√°tico</li>
<li>Estados de carga claros</li>
<li>Deshabilitaci√≥n de botones durante procesamiento</li></ul><p>---</p><p>
<h2>9. üé® Interfaz de Usuario y Experiencia</h2></p><p><h2>Dise√±o y Usabilidad</h2></p><p><h3>Esquema de Colores:</h3>
<li><strong>Fondos</strong>: Negro semi-transparente (rgba(0, 0, 0, 0.6))</li>
<li><strong>Bordes</strong>: Blanco semi-transparente (rgba(255, 255, 255, 0.3))</li>
<li><strong>Texto</strong>: Blanco puro para m√°ximo contraste</li>
<li><strong>Botones primarios</strong>: Gradiente azul (#3498db ‚Üí #2980b9)</li>
<li><strong>Botones de edici√≥n</strong>: Gradiente naranja (#f39c12 ‚Üí #e67e22)</li>
<li><strong>Botones de eliminaci√≥n</strong>: Gradiente rojo (#e74c3c ‚Üí #c0392b)</li>
<li><strong>Botones secundarios</strong>: Gradiente gris (#95a5a6 ‚Üí #7f8c8d)</li></ul><p><h3>Tipograf√≠a:</h3>
<li><strong>Familia</strong>: System fonts (Arial, sans-serif)</li>
<li><strong>Tama√±os</strong>:</li>
<p>  - H1: 2.5rem (t√≠tulos principales)</p>
<p>  - H3: 1.2rem (subt√≠tulos)</p>
<p>  - Texto: 14px (contenido general)</p>
<p>  - Small: 12px (metadatos y ayudas)</p><p><h3>Efectos Visuales:</h3></p>
<li><strong>Backdrop filter</strong>: blur(10px) para efecto de vidrio</li>
<li><strong>Box shadows</strong>: Sombras suaves para profundidad</li>
<li><strong>Transitions</strong>: Animaciones suaves de 0.3s</li>
<li><strong>Hover effects</strong>: Elevaci√≥n y cambio de color</li>
<li><strong>Focus states</strong>: Bordes azules con glow</li></ul><p><h3>Iconograf√≠a:</h3>
<li>‚úèÔ∏è Crear/Editar</li>
<li>üóëÔ∏è Eliminar</li>
<li>üë• Psic√≥logos  </li>
<li>üìÖ Sesiones</li>
<li>üè∑Ô∏è Especialidades</li>
<li>üíª Online</li>
<li>üè¢ Presencial</li>
<li>‚úÖ √âxito</li>
<li>‚ùå Error</li>
<li>‚ö†Ô∏è Advertencia</li>
<li>‚ÑπÔ∏è Informaci√≥n</li></ul><p><h3>Layout Responsivo:</h3></p><p>#### Desktop (1200px+):
<li>Formulario: 2 columnas</li>
<li>Lista: Tabla completa</li>
<li>Botones: Tama√±o est√°ndar</li>
<li>Espaciado: Amplio</li></ul><p>#### Tablet (768px - 1199px):
<li>Formulario: 1 columna</li>
<li>Lista: Tabla adaptada</li>
<li>Botones: Tama√±o medio</li>
<li>Espaciado: Reducido</li></ul><p>#### Mobile (< 768px):
<li>Formulario: Stack vertical</li>
<li>Lista: Cards verticales</li>
<li>Botones: Ancho completo</li>
<li>Espaciado: M√≠nimo</li></ul><p><h3>Feedback Visual:</h3></p><p>#### Estados de Botones:
<li><strong>Normal</strong>: Color base con hover effect</li>
<li><strong>Hover</strong>: Elevaci√≥n y saturaci√≥n</li>
<li><strong>Focus</strong>: Borde azul con outline</li>
<li><strong>Disabled</strong>: Opacidad 60%, sin interacci√≥n</li>
<li><strong>Loading</strong>: Spinner o texto "Procesando..."</li></ul><p>#### Estados de Campos:
<li><strong>Normal</strong>: Borde semi-transparente</li>
<li><strong>Focus</strong>: Borde azul con glow</li>
<li><strong>Error</strong>: Borde rojo con mensaje</li>
<li><strong>Valid</strong>: Borde verde sutil</li></ul><p>#### Mensajes de Estado:
<li><strong>Posicionamiento</strong>: Top del panel, debajo del header</li>
<li><strong>Duraci√≥n</strong>: 5 segundos auto-dismiss</li>
<li><strong>Animaci√≥n</strong>: Slide down from top</li>
<li><strong>Persistencia</strong>: Hasta nueva acci√≥n</li></ul><p><h3>Accesibilidad:</h3></p><p>#### Keyboard Navigation:
<li>Tab order l√≥gico</li>
<li>Enter para confirmar</li>
<li>Escape para cancelar</li>
<li>Flechas para navegaci√≥n</li></ul><p>#### Screen Readers:
<li>Labels asociados correctamente</li>
<li>Aria-labels descriptivos</li>
<li>Role attributes apropiados</li>
<li>Live regions para cambios din√°micos</li></ul><p>#### Color Contrast:
<li>Ratio m√≠nimo 4.5:1 para texto normal</li>
<li>Ratio m√≠nimo 3:1 para texto grande</li>
<li>Estados de focus claramente visibles</li>
<li>Sin dependencia √∫nicamente del color</li></ul><p><h3>Performance:</h3></p><p>#### Optimizaciones:
<li>CSS transforms para animaciones</li>
<li>Debounce en campos de b√∫squeda</li>
<li>Lazy loading de componentes</li>
<li>Memoization de c√°lculos costosos</li></ul><p>#### M√©tricas Objetivo:
<li>First Paint: < 1s</li>
<li>First Contentful Paint: < 1.5s</li>
<li>Time to Interactive: < 3s</li>
<li>Cumulative Layout Shift: < 0.1</li></ul><p>---</p><p>
<h2>10. üîß Configuraci√≥n y Instalaci√≥n</h2></p><p><h2>Requisitos del Sistema</h2></p><p><h3>Navegadores Soportados:</h3>
<li><strong>Chrome</strong>: 90+ (recomendado)</li>
<li><strong>Firefox</strong>: 88+</li>
<li><strong>Safari</strong>: 14+</li>
<li><strong>Edge</strong>: 90+</li></ul><p><h3>Requisitos de Desarrollo:</h3>
<li><strong>Node.js</strong>: 16.0.0 o superior</li>
<li><strong>npm</strong>: 7.0.0 o superior</li>
<li><strong>Git</strong>: Para control de versiones</li>
<li><strong>Editor</strong>: VS Code recomendado</li></ul><p><h3>Instalaci√≥n:</h3></p><p>#### 1. Clonar Repositorio:
<pre><code>git clone [URL_DEL_REPOSITORIO]
<p>cd psi-mammoliti</p>
</code></pre></p><p>#### 2. Instalar Dependencias:
<pre><code>npm install
</code></pre></p><p>#### 3. Ejecutar en Desarrollo:
<pre><code>npm start
</code></pre></p><p>#### 4. Acceder al Panel:
<li>Aplicaci√≥n principal: http://localhost:3000</li>
<li>Panel de administraci√≥n: http://localhost:3000/admin</li></ul><p><h3>Configuraci√≥n del Entorno:</h3></p><p>#### Variables de Entorno:
<p>Crear archivo .env.local en la ra√≠z:</p>
<pre><code>REACT_APP_VERSION=1.0.0
<p>REACT_APP_ENV=development</p>
<p>REACT_APP_DEBUG=true</p>
</code></pre></p><p>#### Scripts Disponibles:
<li><code>npm start</code>: Servidor de desarrollo</li>
<li><code>npm build</code>: Build de producci√≥n</li>
<li><code>npm test</code>: Ejecutar tests</li>
<li><code>npm run lint</code>: Verificar c√≥digo</li>
<li><code>npm run lint:fix</code>: Corregir errores autom√°ticamente</li></ul><p><h3>Estructura de Archivos del Admin:</h3></p><p>#### Componentes Principales:
<pre><code>src/components/Admin.tsx          # Componente principal
<p>src/hooks/useDatabase.ts          # Hook de base de datos</p>
<p>src/database/database.ts          # Servicio Dexie</p>
<p>src/database/migration.ts         # Migraci√≥n inicial</p>
</code></pre></p><p>#### Tipos y Interfaces:
<pre><code>src/types/index.ts               # Definiciones TypeScript
</code></pre></p><p>#### Utilidades:
<pre><code>src/utils/horarioGenerator.ts   # Generador de horarios
<p>src/utils/timezone.ts           # Manejo de zonas horarias</p>
</code></pre></p><p><h3>Configuraci√≥n de Base de Datos:</h3></p><p>#### IndexedDB Setup:
<li>Nombre de DB: "PsiConnectDB"</li>
<li>Versi√≥n: 1</li>
<li>Tama√±o m√°ximo: ~250MB (l√≠mite del navegador)</li>
<li>Persistencia: Local storage del navegador</li></ul><p>#### Esquema Inicial:
<p>La base de datos se inicializa autom√°ticamente con:</p>
<li>5 psic√≥logos de ejemplo</li>
<li>16 especialidades predefinidas</li>
<li>Horarios aleatorios para 3 semanas</li>
<li>Relaciones completamente configuradas</li></ul><p><h3>Troubleshooting de Instalaci√≥n:</h3></p><p>#### Error: npm install falla
<strong>Soluci√≥n:</strong>
<pre><code>npm cache clean --force
<p>rm -rf node_modules package-lock.json</p>
<p>npm install</p>
</code></pre></p><p>#### Error: Puerto 3000 ocupado
<strong>Soluci√≥n:</strong>
<pre><code># Encontrar proceso usando puerto 3000
<p>netstat -ano | findstr :3000</p>
<h1>Terminar proceso (reemplazar PID)</h1>
<p>taskkill /PID [PID_NUMBER] /F</p>
<h1>O usar puerto diferente</h1>
<p>npm start -- --port 3001</p>
</code></pre></p><p>#### Error: TypeScript compilation
<strong>Soluci√≥n:</strong>
<pre><code># Verificar versi√≥n de TypeScript
<p>npx tsc --version</p>
<h1>Reinstalar dependencias</h1>
<p>npm install typescript @types/react @types/react-dom --save-dev</p>
</code></pre></p><p>#### Error: IndexedDB no soportado
<strong>Verificaci√≥n:</strong>
<pre><code>if (!window.indexedDB) {
<p>  console.error('Tu navegador no soporta IndexedDB');</p>
<p>}</p>
</code></pre></p><p><h3>Configuraci√≥n de Producci√≥n:</h3></p><p>#### Build Optimizado:
<pre><code>npm run build
</code></pre></p><p>#### Servidor Est√°tico:
<pre><code>npm install -g serve
<p>serve -s build -p 5000</p>
</code></pre></p><p>#### Variables de Producci√≥n:
<pre><code>REACT_APP_ENV=production
<p>REACT_APP_DEBUG=false</p>
</code></pre></p><p><h3>Monitoreo y Logs:</h3></p><p>#### Desarrollo:
<li>Console.log para debugging</li>
<li>React DevTools para componentes</li>
<li>Dexie DevTools para base de datos</li></ul><p>#### Producci√≥n:
<li>Error boundaries para captura de errores</li>
<li>Analytics para tracking de uso</li>
<li>Monitoring de performance</li></ul><p>---</p><p>
<h2>11. üìö API Reference y Hooks</h2></p><p><h2>useDatabase Hook</h2></p><p><h3>Importaci√≥n:</h3>
<pre><code>import { useDatabase } from '../hooks/useDatabase';
</code></pre></p><p><h3>Estructura de Retorno:</h3>
<pre><code>const {
<p>  // Datos</p>
<p>  psicologos,              // Psicologo[]</p>
<p>  sesiones,                // Sesion[]</p>
<p>  especialidades,          // string[]</p>
<p>  </p>
<p>  // Estado</p>
<p>  loading,                 // boolean</p>
<p>  error,                   // string | null</p>
<p>  initialized,             // boolean</p>
<p>  </p>
<p>  // M√©todos CRUD</p>
<p>  insertarPsicologo,       // (psicologo: Psicologo) => Promise<boolean></p>
<p>  actualizarPsicologo,     // (psicologo: Psicologo) => Promise<boolean></p>
<p>  eliminarPsicologo,       // (id: string) => Promise<boolean></p>
<p>  insertarSesion,          // (sesion: Sesion) => Promise<boolean></p>
<p>  </p>
<p>  // Utilidades</p>
<p>  refrescar,               // () => Promise<void></p>
<p>  filtrarPsicologos,       // (especialidad?, precio?, modalidad?) => Psicologo[]</p>
<p>  obtenerPsicologoPorId,   // (id: string) => Psicologo | null</p>
<p>  obtenerSesionesPorPsicologo, // (psicologoId: string) => Sesion[]</p>
<p>  limpiarError,            // () => void</p>
<p>  </p>
<p>  // Estad√≠sticas</p>
<p>  stats                    // { totalPsicologos, totalSesiones, especialidadesUnicas }</p>
<p>} = useDatabase();</p>
</code></pre></p><p><h2>DatabaseService API</h2></p><p><h3>M√©todos CRUD de Psic√≥logos:</h3></p><p>#### obtenerPsicologos()
<pre><code>const psicologos = await db.obtenerPsicologos();
<p>// Retorna: Promise<Psicologo[]></p>
<p>// Incluye disponibilidad y especialidades relacionadas</p>
</code></pre></p><p>#### insertarPsicologo(psicologo)
<pre><code>await db.insertarPsicologo({
<p>  id: 'psi_123_abc',</p>
<p>  nombre: 'Juan',</p>
<p>  apellido: 'P√©rez',</p>
<p>  especialidades: ['Ansiedad', 'Depresi√≥n'],</p>
<p>  experiencia: 5,</p>
<p>  precio: 75,</p>
<p>  descripcion: 'Especialista en...',</p>
<p>  rating: 4.5,</p>
<p>  modalidades: ['online', 'presencial'],</p>
<p>  disponibilidad: [...],</p>
<p>  imagen: 'https://...'</p>
<p>});</p>
<p>// Retorna: Promise<void></p>
<p>// Lanza: Error si validaci√≥n falla</p>
</code></pre></p><p>#### actualizarPsicologo(psicologo)
<pre><code>await db.actualizarPsicologo(psicologoModificado);
<p>// Retorna: Promise<void></p>
<p>// Actualiza transaccionalmente todas las tablas relacionadas</p>
</code></pre></p><p>#### eliminarPsicologo(id)
<pre><code>await db.eliminarPsicologo('psi_123_abc');
<p>// Retorna: Promise<void></p>
<p>// Eliminaci√≥n CASCADE de datos relacionados</p>
</code></pre></p><p><h3>M√©todos de Sesiones:</h3></p><p>#### obtenerSesiones()
<pre><code>const sesiones = await db.obtenerSesiones();
<p>// Retorna: Promise<Sesion[]></p>
<p>// Ordenadas por fecha descendente</p>
</code></pre></p><p>#### insertarSesion(sesion)
<pre><code>await db.insertarSesion({
<p>  id: 'ses_123',</p>
<p>  psicologoId: 'psi_123',</p>
<p>  fecha: '2025-01-20',</p>
<p>  hora: '14:00',</p>
<p>  modalidad: 'online',</p>
<p>  paciente: {</p>
<p>    nombre: 'Ana Garc√≠a',</p>
<p>    email: 'ana@email.com',</p>
<p>    telefono: '+1234567890'</p>
<p>  },</p>
<p>  especialidad: 'Ansiedad',</p>
<p>  estado: 'confirmada'</p>
<p>});</p>
</code></pre></p><p><h3>M√©todos de Utilidad:</h3></p><p>#### obtenerEspecialidades()
<pre><code>const especialidades = await db.obtenerEspecialidades();
<p>// Retorna: Promise<string[]></p>
<p>// Lista √∫nica ordenada alfab√©ticamente</p>
</code></pre></p><p>#### limpiarBaseDatos()
<pre><code>await db.limpiarBaseDatos();
<p>// Retorna: Promise<void></p>
<p>// Elimina TODOS los datos de TODAS las tablas</p>
</code></pre></p><p>#### obtenerEstadisticas()
<pre><code>const stats = await db.obtenerEstadisticas();
<p>// Retorna: Promise<{</p>
<p>//   totalPsicologos: number,</p>
<p>//   totalSesiones: number,</p>
<p>//   totalEspecialidades: number</p>
<p>// }></p>
</code></pre></p><p><h2>Validaciones</h2></p><p><h3>Validaciones de Psicologo:</h3>
<pre><code>// ID requerido y √∫nico
<p>if (!psicologo.id) throw new Error('ID requerido');</p><p>// Nombre y apellido requeridos</p>
<p>if (!psicologo.nombre?.trim()) throw new Error('Nombre requerido');</p>
<p>if (!psicologo.apellido?.trim()) throw new Error('Apellido requerido');</p><p>// Especialidades: m√≠nimo una</p>
<p>if (!psicologo.especialidades?.length) throw new Error('M√≠nimo una especialidad');</p><p>// Modalidades: m√≠nimo una</p>
<p>if (!psicologo.modalidades?.length) throw new Error('M√≠nimo una modalidad');</p><p>// Experiencia: 1-30 a√±os</p>
<p>if (psicologo.experiencia < 1 || psicologo.experiencia > 30) </p>
<p>  throw new Error('Experiencia debe estar entre 1 y 30 a√±os');</p><p>// Precio: $30-$300</p>
<p>if (psicologo.precio < 30 || psicologo.precio > 300)</p>
<p>  throw new Error('Precio debe estar entre $30 y $300');</p>
</code></pre></p><p><h3>Validaciones de Sesion:</h3>
<pre><code>// Todos los campos requeridos
<p>if (!sesion.psicologoId || !sesion.fecha || !sesion.hora || </p>
<p>    !sesion.modalidad || !sesion.especialidad)</p>
<p>  throw new Error('Campos requeridos faltantes');</p><p>// Datos del paciente</p>
<p>if (!sesion.paciente.nombre || !sesion.paciente.email)</p>
<p>  throw new Error('Datos del paciente incompletos');</p><p>// Email v√°lido</p>
<p>const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;</p>
<p>if (!emailRegex.test(sesion.paciente.email))</p>
<p>  throw new Error('Email inv√°lido');</p>
</code></pre></p><p><h2>Error Handling</h2></p><p><h3>Tipos de Errores:</h3>
<pre><code>// Error de validaci√≥n
<p>class ValidationError extends Error {</p>
<p>  constructor(message: string) {</p>
<p>    super(<code>Validaci√≥n: ${message}</code>);</p>
<p>    this.name = 'ValidationError';</p>
<p>  }</p>
<p>}</p><p>// Error de base de datos</p>
<p>class DatabaseError extends Error {</p>
<p>  constructor(message: string, cause?: Error) {</p>
<p>    super(<code>Base de datos: ${message}</code>);</p>
<p>    this.name = 'DatabaseError';</p>
<p>    this.cause = cause;</p>
<p>  }</p>
<p>}</p><p>// Error de constraint √∫nico</p>
<p>class UniqueConstraintError extends DatabaseError {</p>
<p>  constructor(field: string, value: string) {</p>
<p>    super(<code>Valor duplicado en ${field}: ${value}</code>);</p>
<p>    this.name = 'UniqueConstraintError';</p>
<p>  }</p>
<p>}</p>
</code></pre></p><p><h3>Manejo en Componentes:</h3>
<pre><code>try {
<p>  const exito = await insertarPsicologo(nuevoPsicologo);</p>
<p>  if (exito) {</p>
<p>    mostrarMensaje('‚úÖ Psic√≥logo creado exitosamente');</p>
<p>  } else {</p>
<p>    mostrarMensaje('‚ùå Error al crear psic√≥logo', 'error');</p>
<p>  }</p>
<p>} catch (error) {</p>
<p>  console.error('Error:', error);</p>
<p>  mostrarMensaje(<code>‚ùå ${error.message}</code>, 'error');</p>
<p>}</p>
</code></pre></p><p>---</p><p>
<h2>12. üöÄ Deployment y Mantenimiento</h2></p><p><h2>Preparaci√≥n para Producci√≥n</h2></p><p><h3>Build de Producci√≥n:</h3>
<pre><code># Crear build optimizado
<p>npm run build</p><p><h1>Verificar archivos generados</h1></p>
<p>ls -la build/</p><p><h1>Tama√±o t√≠pico del bundle</h1></p>
<p>du -sh build/</p>
<h1>Esperado: ~2-3MB total</h1>
</code></pre></p><p><h3>Optimizaciones Autom√°ticas:</h3>
<li><strong>Minificaci√≥n</strong>: JavaScript y CSS comprimidos</li>
<li><strong>Tree shaking</strong>: Eliminaci√≥n de c√≥digo no utilizado  </li>
<li><strong>Code splitting</strong>: Carga bajo demanda</li>
<li><strong>Asset optimization</strong>: Im√°genes y fuentes optimizadas</li>
<li><strong>Gzip compression</strong>: Compresi√≥n adicional del servidor</li></ul><p><h3>Variables de Entorno de Producci√≥n:</h3>
<pre><code># .env.production
<p>REACT_APP_ENV=production</p>
<p>REACT_APP_DEBUG=false</p>
<p>REACT_APP_VERSION=1.0.0</p>
<p>REACT_APP_API_URL=https://api.psiconnect.com</p>
<p>GENERATE_SOURCEMAP=false</p>
</code></pre></p><p><h3>Deployment en Diferentes Plataformas:</h3></p><p>#### Netlify:
<pre><code># Installar Netlify CLI
<p>npm install -g netlify-cli</p><p><h1>Deploy manual</h1></p>
<p>npm run build</p>
<p>netlify deploy --prod --dir=build</p><p><h1>Deploy autom√°tico con Git</h1></p>
<h1>Conectar repositorio en netlify.com</h1>
<h1>Build command: npm run build</h1>
<h1>Publish directory: build</h1>
</code></pre></p><p>#### Vercel:
<pre><code># Instalar Vercel CLI
<p>npm install -g vercel</p><p><h1>Deploy</h1></p>
<p>vercel --prod</p><p><h1>Configuraci√≥n autom√°tica para React</h1></p>
<h1>vercel.json no necesario para casos b√°sicos</h1>
</code></pre></p><p>#### Apache/Nginx:
<pre><code># nginx.conf para SPA
<p>server {</p>
<p>    listen 80;</p>
<p>    server_name psiconnect.com;</p>
<p>    root /var/www/psiconnect/build;</p>
<p>    index index.html;</p><p>    # Manejar rutas de React Router</p>
<p>    location / {</p>
<p>        try_files $uri $uri/ /index.html;</p>
<p>    }</p><p>    # Cache para assets est√°ticos</p>
<p>    location /static/ {</p>
<p>        expires 1y;</p>
<p>        add_header Cache-Control "public, immutable";</p>
<p>    }</p><p>    # Security headers</p>
<p>    add_header X-Frame-Options "SAMEORIGIN";</p>
<p>    add_header X-Content-Type-Options "nosniff";</p>
<p>    add_header X-XSS-Protection "1; mode=block";</p>
<p>}</p>
</code></pre></p><p><h2>Mantenimiento y Monitoreo</h2></p><p><h3>Backup de Datos:</h3>
<p>Aunque IndexedDB es local, es importante ofrecer funcionalidades de backup:</p><p><pre><code>// Exportar datos para backup</p>
<p>async function exportarDatos() {</p>
<p>  const db = DatabaseService.getInstance();</p>
<p>  const datos = {</p>
<p>    psicologos: await db.obtenerPsicologos(),</p>
<p>    sesiones: await db.obtenerSesiones(),</p>
<p>    timestamp: new Date().toISOString()</p>
<p>  };</p>
<p>  </p>
<p>  const blob = new Blob([JSON.stringify(datos, null, 2)], </p>
<p>    { type: 'application/json' });</p>
<p>  const url = URL.createObjectURL(blob);</p>
<p>  </p>
<p>  const a = document.createElement('a');</p>
<p>  a.href = url;</p>
<p>  a.download = <code>psiconnect-backup-${new Date().toISOString().split('T')[0]}.json</code>;</p>
<p>  a.click();</p>
<p>}</p><p>// Importar datos desde backup</p>
<p>async function importarDatos(file: File) {</p>
<p>  const text = await file.text();</p>
<p>  const datos = JSON.parse(text);</p>
<p>  </p>
<p>  const db = DatabaseService.getInstance();</p>
<p>  await db.limpiarBaseDatos();</p>
<p>  </p>
<p>  for (const psicologo of datos.psicologos) {</p>
<p>    await db.insertarPsicologo(psicologo);</p>
<p>  }</p>
<p>  </p>
<p>  for (const sesion of datos.sesiones) {</p>
<p>    await db.insertarSesion(sesion);</p>
<p>  }</p>
<p>}</p>
</code></pre></p><p><h3>Monitoring y Analytics:</h3></p><p>#### Google Analytics 4:
<pre><code>// analytics.ts
<p>import { gtag } from 'ga-gtag';</p><p>export const trackEvent = (action: string, category: string, label?: string) => {</p>
<p>  gtag('event', action, {</p>
<p>    event_category: category,</p>
<p>    event_label: label,</p>
<p>  });</p>
<p>};</p><p>// Uso en Admin Panel</p>
<p>trackEvent('create_psychologist', 'admin', psicologo.especialidades.join(','));</p>
<p>trackEvent('delete_psychologist', 'admin', psicologo.id);</p>
</code></pre></p><p>#### Error Tracking (Sentry):
<pre><code>// sentry.ts
<p>import * as Sentry from '@sentry/react';</p><p>Sentry.init({</p>
<p>  dsn: process.env.REACT_APP_SENTRY_DSN,</p>
<p>  environment: process.env.REACT_APP_ENV</p>
<p>});</p><p>// Uso autom√°tico en DatabaseService</p>
<p>catch (error) {</p>
<p>  console.error('Error en base de datos:', error);</p>
<p>  Sentry.captureException(error, {</p>
<p>    tags: {</p>
<p>      component: 'DatabaseService',</p>
<p>      operation: 'insertarPsicologo'</p>
<p>    }</p>
<p>  });</p>
<p>  throw error;</p>
<p>}</p>
</code></pre></p><p><h3>Performance Monitoring:</h3></p><p>#### Core Web Vitals:
<pre><code>// performance.ts
<p>import { getCLS, getFID, getFCP, getLCP, getTTFB } from 'web-vitals';</p><p>function sendToAnalytics(metric) {</p>
<p>  gtag('event', metric.name, {</p>
<p>    event_category: 'Web Vitals',</p>
<p>    value: Math.round(metric.value),</p>
<p>    event_label: metric.id,</p>
<p>  });</p>
<p>}</p><p>getCLS(sendToAnalytics);</p>
<p>getFID(sendToAnalytics);</p>
<p>getFCP(sendToAnalytics);</p>
<p>getLCP(sendToAnalytics);</p>
<p>getTTFB(sendToAnalytics);</p>
</code></pre></p><p><h3>Actualizaciones y Versionado:</h3></p><p>#### Semantic Versioning:
<li><strong>MAJOR</strong> (1.0.0 ‚Üí 2.0.0): Cambios breaking</li>
<li><strong>MINOR</strong> (1.0.0 ‚Üí 1.1.0): Nuevas funcionalidades</li>
<li><strong>PATCH</strong> (1.0.0 ‚Üí 1.0.1): Bug fixes</li></ul><p>#### Process de Actualizaci√≥n:
<p>1. <strong>Testing</strong>: Verificar en entorno de desarrollo</p>
<p>2. <strong>Staging</strong>: Deploy en ambiente de pruebas</p>
<p>3. <strong>Backup</strong>: Exportar datos antes de actualizar</p>
<p>4. <strong>Deploy</strong>: Subir nueva versi√≥n</p>
<p>5. <strong>Monitoring</strong>: Vigilar errores post-deploy</p>
<p>6. <strong>Rollback</strong>: Plan de reversi√≥n si es necesario</p><p><h3>Mantenimiento de IndexedDB:</h3></p><p>#### Limpieza Autom√°tica:</p>
<pre><code>// Limpiar sesiones antigas
<p>async function limpiarSesionesAntiguas() {</p>
<p>  const fechaLimite = new Date();</p>
<p>  fechaLimite.setMonth(fechaLimite.getMonth() - 6); // 6 meses atr√°s</p>
<p>  </p>
<p>  await db.sesiones</p>
<p>    .where('fecha')</p>
<p>    .below(fechaLimite.toISOString().split('T')[0])</p>
<p>    .delete();</p>
<p>}</p><p>// Ejecutar mensualmente</p>
<p>setInterval(limpiarSesionesAntiguas, 30 <em> 24 </em> 60 <em> 60 </em> 1000);</p>
</code></pre></p><p>#### Verificaci√≥n de Integridad:
<pre><code>async function verificarIntegridad() {
<p>  const psicologos = await db.obtenerPsicologos();</p>
<p>  const huerfanos = [];</p>
<p>  </p>
<p>  for (const psicologo of psicologos) {</p>
<p>    const especialidades = await db.psicologoEspecialidades</p>
<p>      .where('psicologoId')</p>
<p>      .equals(psicologo.id)</p>
<p>      .count();</p>
<p>      </p>
<p>    if (especialidades === 0) {</p>
<p>      huerfanos.push(psicologo.id);</p>
<p>    }</p>
<p>  }</p>
<p>  </p>
<p>  if (huerfanos.length > 0) {</p>
<p>    console.warn('Psic√≥logos sin especialidades:', huerfanos);</p>
<p>  }</p>
<p>}</p>
</code></pre></p><p><h3>Documentaci√≥n para Usuarios:</h3></p><p>#### Manual de Usuario:
<li>Gu√≠a visual del panel de administraci√≥n</li>
<li>Videos tutoriales de cada funcionalidad</li>
<li>FAQ de problemas comunes</li>
<li>Contacto para soporte t√©cnico</li></ul><p>#### Training Materials:
<li>Onboarding para nuevos administradores</li>
<li>Best practices para gesti√≥n de datos</li>
<li>Procedimientos de backup y recovery</li>
<li>Troubleshooting avanzado</li></ul><p>---</p><p>
<h2>üìû Soporte y Contacto</h2></p><p>Para consultas t√©cnicas sobre el Panel de Administraci√≥n:
<li><strong>Email</strong>: soporte@psiconnect.com  </li>
<li><strong>Documentaci√≥n</strong>: [GitHub Repository](https://github.com/psi-mammoliti)</li>
<li><strong>Issues</strong>: Reportar bugs en GitHub Issues</li>
<li><strong>Updates</strong>: Seguir releases en GitHub</li></ul><p>---</p><p><em>Documento generado autom√°ticamente por generate-admin-manual.js</em>  
<em>¬© 2025 PsiConnect - Todos los derechos reservados</em>

        </div>
        
        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ecf0f1; text-align: center; color: #7f8c8d;">
            <p>Documento generado autom√°ticamente por generate-admin-manual.js</p>
            <p>¬© 2025 PsiConnect - Todos los derechos reservados</p>
        </footer>
    </div>
</body>
</html>